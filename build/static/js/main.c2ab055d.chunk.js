(this["webpackJsonpreact-live-photo-frame"]=this["webpackJsonpreact-live-photo-frame"]||[]).push([[0],{181:function(e,t,n){},182:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(90),o=n.n(a),r=n(62),l=n(237),s=(n(181),n(8)),j=(n(182),n(232)),f=n(235),d=n(15),x=n(231),h=n(141),u=n.n(h),b=function(){var e=i.a.useState((new Date).getHours()>=6&&(new Date).getHours()<=17),t=Object(s.a)(e,2),n=t[0];t[1];return i.a.useLayoutEffect((function(){}),[]),n},m=n(4),p=function(){var e=b(),t={background:e?"#fff":"#000",center:e?"#000":"#fff",seconds:e?"#000":"#fff",minutes:e?"#000":"#fff",hour:e?"#000":"#fff",tick:e?"#000":"#fff",smallTickWidth:2,largeTickWidth:4,secondHandWidth:3,minuteHandWidth:6,hourHandWidth:8};return Object(m.jsx)(x.a,{initialScale:.9,in:!0,children:Object(m.jsx)(u.a,{theme:t})})},O=n(238),g=n(239),w=n(233),y=n(160),v=n(234),S=n(82),k=n(148),W=n(146),C=n(147),z=n(142),D=i.a.createContext({value:{},socket:{emit:function(e,t){}},device:"frame",setDevice:function(e){}}),H=function(){return i.a.useContext(D)},I=function(e){return Object(m.jsx)(D.Provider,{value:Object(z.a)({},e),children:e.children})},F=n(34),L=n.n(F),T=n(66),E=n(59),G=n.n(E),M=function(){return G.a.get("/api/videos/list").then((function(e){return e.data}))},A=n(65),B=function(e){var t=Object(A.useQuery)("videos",(function(){return M()})),n=t.isLoading,c=t.data,a=b(),o=H(),r=Object(d.g)(),l=Object(O.a)(),s=l.isOpen,h=l.onToggle,u=function(e){h(),setTimeout((function(){r.push(e)}),500)};return i.a.useLayoutEffect((function(){h()}),[]),null===o.device?Object(m.jsx)(d.a,{to:"/device"}):n?Object(m.jsx)(g.a,{}):Object(m.jsx)(x.a,{initialScale:.9,in:s,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",minW:300,children:[Object(m.jsx)(w.a,{color:a?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Controller"}),Object(m.jsx)(w.a,{color:a?"black":"white",marginBottom:4,fontSize:"xs",children:"Change the view on the frame"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsxs)(j.a,{flexDir:"row",flexWrap:"wrap",display:"flex",justifyContent:"flex-start",children:[Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===o.device?e.socket.emit("change","clock"):u("/clock")},m:1,colorScheme:"gray",isFullWidth:!0,icon:Object(m.jsx)(S.b,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===o.device?e.socket.emit("change","weather"):u("/weather")},m:1,colorScheme:"gray",isFullWidth:!0,icon:Object(m.jsx)(W.a,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===o.device?e.socket.emit("change","digital-clock"):u("/digital-clock")},m:1,colorScheme:"gray",isFullWidth:!0,icon:Object(m.jsx)(C.a,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===o.device?e.socket.emit("change","holiday"):u("/holiday")},m:1,colorScheme:"gray",isFullWidth:!0,icon:Object(m.jsx)(k.a,{})})]}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4,mt:4}),Object(m.jsx)(j.a,{flexDir:"row",flexWrap:"wrap",display:"flex",justifyContent:"flex-start",children:c.map((function(t){return Object(m.jsx)(y.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===o.device?e.socket.emit("change","videos/".concat(t)):u("videos/".concat(t))},m:1,colorScheme:"gray",isFullWidth:!0,children:Object(m.jsxs)(j.a,{display:"flex-column",alignItems:"center",justifyContent:"center",children:[Object(m.jsx)(S.a,{}),Object(m.jsx)(w.a,{fontSize:"small",children:(n=t,n.charAt(0).toUpperCase()+n.slice(1).replace(".mp4",""))})]})});var n}))})]})})},P=function(){var e=Object(A.useQuery)("videos",(function(){return M()})),t=e.isLoading,n=e.data,c=Object(d.i)().name;return t?Object(m.jsx)(g.a,{size:"xl"}):(console.log(n),Object(m.jsxs)("video",{style:{overflow:"hidden !important"},id:"videoPlayer",autoPlay:!0,controls:!1,width:"100%",loop:!0,muted:!0,playsInline:!0,children:[Object(m.jsx)("source",{src:"/videos/".concat(c),type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]}))},U=n(98),_=function(){var e=H(),t=(e.device,e.setDevice),n=Object(d.g)(),c=b();return Object(m.jsxs)(j.a,{color:"white",flexWrap:"wrap",display:"flex",minW:300,flexDir:"column",children:[Object(m.jsx)(w.a,{color:c?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Device"}),Object(m.jsx)(w.a,{color:c?"black":"white",marginBottom:4,fontSize:"xs",children:"Choose if this is the frame or the controller"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsx)(f.a,{onClick:function(){t("frame"),localStorage.setItem("device","frame"),n.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"frame",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(S.c,{})}),Object(m.jsx)(f.a,{onClick:function(){t("controller"),localStorage.setItem("device","controller"),n.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"controller",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(U.b,{})})]})},q=n(149),Q=n(99),R=n.n(Q),J=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],K=function(e){var t=b(),n=new Date(e.forcast.dt_txt),c=e.forcast.main,i=Object(s.a)(e.forcast.weather,1)[0];return Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",alignItems:"center",padding:"1em",margin:"1em",borderRadius:"1em",children:[Object(m.jsx)("img",{style:{maxWidth:"6em"},alt:"weather icon",src:"https://openweathermap.org/img/wn/".concat(i.icon,"@4x.png")}),Object(m.jsxs)(w.a,{fontWeight:"300",fontSize:"5em",color:t?"black":"white",children:[Object(m.jsx)(R.a,{useEasing:!0,duration:"5",start:c.temp-10,end:c.temp}),"\xb0"]}),Object(m.jsx)(w.a,{fontWeight:"300",fontSize:"2em",color:t?"black":"white",children:J[n.getDay()]})]})},N=n(236),V=function(e){var t=b(),n=new Date,c=i.a.useState(n.toLocaleTimeString()),a=Object(s.a)(c,2),o=a[0],r=a[1];return i.a.useLayoutEffect((function(){!function e(){setTimeout((function(){r((new Date).toLocaleTimeString()),e()}),1e3)}()}),[]),Object(m.jsx)(N.a,{in:!0,children:Object(m.jsx)(j.a,{children:Object(m.jsx)(w.a,{fontFamily:"'Roboto Mono', monospace",fontSize:e.fontSize||"8em",color:t?"black":"white",children:o})})})},X=function(){var e=b(),t=i.a.useState({main:{temp:0,humidity:0,feels_like:0},name:"",wind:{speed:0,deg:0},weather:[{icon:"",description:"",main:""}]}),n=Object(s.a)(t,2),c=n[0],a=n[1],o=i.a.useState({list:[]}),r=Object(s.a)(o,2),l=r[0],f=r[1],d=i.a.useState(!0),h=Object(s.a)(d,2),u=h[0],p=h[1],O=i.a.useState(),y=Object(s.a)(O,2),S=y[0],k=y[1];i.a.useLayoutEffect((function(){var e=function(){var e=Object(T.a)(L.a.mark((function e(t,n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:c=e.sent,f(c.data),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=function(){var t=Object(T.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:n=t.sent,e(n.data.coord.lat,n.data.coord.lon),a(n.data),k(c.main.temp);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),i.a.useLayoutEffect((function(){var e=function(){var e=Object(T.a)(L.a.mark((function e(t,n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:c=e.sent,f(c.data),console.log(c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=function(){var n=Object(T.a)(L.a.mark((function n(){var c;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:c=n.sent,console.log(c.data),e(c.data.coord.lat,c.data.coord.lon),a(c.data),setTimeout((function(){t()}),6e4);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t()}),[]);var W=new Date,C=Object(s.a)(c.weather,1)[0],z=[];return l.list.map((function(e){e.dt_txt.includes("15:00:00")&&z.push(e)}),[]),u?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(g.a,{size:"xl"})}):Object(m.jsx)(x.a,{initialScale:.9,in:!0,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",children:[Object(m.jsxs)(j.a,{display:"flex",flexDir:"row",alignItems:"center",children:[Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",children:[Object(m.jsx)(j.a,{pl:2,display:"flex",justifyContent:"flex-start",alignItems:"flex-start",children:Object(m.jsx)(V,{fontSize:"5em"})}),Object(m.jsx)(v.a,{marginBottom:"10",mt:16,mb:16,opacity:e?.6:.5}),Object(m.jsx)(j.a,{p:2,display:"flex",justifyContent:"flex-start",alignItems:"flex-start",children:Object(m.jsx)(w.a,{lineHeight:"40px",fontWeight:"400",fontSize:"6em",color:e?"black":"white",children:c.name})}),Object(m.jsx)(j.a,{p:2,display:"flex",justifyContent:"flex-start",alignItems:"flex-start",children:Object(m.jsx)(w.a,{lineHeight:"50px",fontWeight:"300",fontSize:"2.5em",color:e?"black":"white",children:W.toDateString()})})]}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsx)(v.a,{orientation:"vertical",mt:16,mb:16,opacity:e?.6:.5}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsx)(j.a,{children:Object(m.jsx)(j.a,{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",children:Object(m.jsx)("img",{alt:"weather icon",src:"https://openweathermap.org/img/wn/".concat(C.icon,"@4x.png")})})})]}),Object(m.jsx)(v.a,{mt:5,mb:5,opacity:e?.6:.5}),Object(m.jsxs)(j.a,{display:"flex",flexDir:"row",children:[Object(m.jsxs)(j.a,{pt:5,display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDir:"column",children:[Object(m.jsxs)(w.a,{lineHeight:"0.9em",fontWeight:"100",fontSize:"14em",color:e?"black":"white",children:[Object(m.jsx)(R.a,{useEasing:!0,duration:"6",start:S||c.main.temp-10,end:c.main.temp}),"\xb0"]}),Object(m.jsxs)(w.a,{fontWeight:"100",fontSize:"2em",color:e?"black":"white",children:[C.main,", ",C.description]})]}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsx)(v.a,{orientation:"vertical"}),Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",children:[Object(m.jsxs)(j.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",flexDir:"column",children:[Object(m.jsxs)(w.a,{lineHeight:"60px",fontWeight:"400",fontSize:"3em",color:e?"black":"white",children:[c.main.humidity,"%"]}),Object(m.jsx)(w.a,{fontWeight:"100",fontSize:"2em",color:e?"black":"white",children:"Humidity"})]}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsx)(v.a,{mt:2,mb:2}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsxs)(j.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",flexDir:"column",children:[Object(m.jsxs)(w.a,{lineHeight:"60px",fontWeight:"400",fontSize:"3em",color:e?"black":"white",children:[c.main.feels_like.toFixed(0),"\xb0"]}),Object(m.jsx)(w.a,{fontWeight:"100",fontSize:"2em",color:e?"black":"white",children:"Feels Like"})]})]}),Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsxs)(j.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",flexDir:"column",children:[Object(m.jsx)(q.a,{color:e?"black":"white",fontSize:"72px",style:{transform:"rotate(".concat(c.wind.deg,"deg)"),transition:"transform 1250ms ease-in-out"}}),Object(m.jsxs)(w.a,{lineHeight:"60px",fontWeight:"200",fontSize:"3em",color:e?"black":"white",children:[c.wind.speed,"mph"]}),Object(m.jsx)(w.a,{fontWeight:"100",fontSize:"2em",color:e?"black":"white",children:"Wind"})]}),Object(m.jsx)(j.a,{flexGrow:1})]}),Object(m.jsx)(v.a,{mt:12,mb:16,opacity:e?.6:.5}),Object(m.jsx)(j.a,{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",flexDir:"row",width:"100%",children:z.map((function(e,t){return t<4?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{flexGrow:1}),Object(m.jsx)(K,{forcast:e}),Object(m.jsx)(j.a,{flexGrow:1})]}):null}))})]})})},Y=function(){var e=b();return console.log(e),Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",alignItems:"center",lineHeight:"10em",children:[Object(m.jsx)(w.a,{color:"#ff7b00",fontSize:"6em",fontFamily:"'Festive', cursive",children:"Happy"}),Object(m.jsx)(w.a,{color:"#ff7b00",fontSize:"14em",fontFamily:"'Festive', cursive",children:"Halloween"}),Object(m.jsx)(j.a,{mt:"5em",children:Object(m.jsx)(U.a,{color:"#9500f6",size:"20em"})})]})},Z=function(e){var t=function(){var e=i.a.useState((new Date).getHours()),t=Object(s.a)(e,2),n=t[0];return t[1],console.log(n),i.a.useLayoutEffect((function(){}),[]),n}(),n=Object(d.g)();return 7===t&&n.push("/weather"),21===t&&n.push("/digital-clock"),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/weather",children:Object(m.jsx)(X,{})}),Object(m.jsx)(d.b,{path:"/clock",children:Object(m.jsx)(p,{})}),Object(m.jsx)(d.b,{path:"/digital-clock",children:Object(m.jsx)(V,{})}),Object(m.jsx)(d.b,{path:"/videos/:name",children:Object(m.jsx)(P,{})}),Object(m.jsx)(d.b,{path:"/controller",children:Object(m.jsx)(B,{socket:e.socket})}),Object(m.jsx)(d.b,{path:"/device",children:Object(m.jsx)(_,{})}),Object(m.jsx)(d.b,{path:"/holiday",children:Object(m.jsx)(Y,{})}),Object(m.jsx)(d.b,{path:"/*",children:Object(m.jsx)(d.a,{to:"/controller"})})]})},$=n(153),ee=n(114),te=n(158),ne=n(154),ce=Object(te.a)("http://192.168.124.124:4000"),ie=function(){var e=b(),t=Object(d.g)(),n=Object(d.h)(),c=i.a.useState(localStorage.getItem("device")),a=Object(s.a)(c,2),o=a[0],l=a[1];return i.a.useEffect((function(){ce.on("change_view",(function(e){console.log(e),"frame"===o&&("reload"===e&&window.location.reload(),t.push("/".concat(e)))}))}),[]),Object(m.jsx)(I,{socket:ce,device:o,setDevice:l,children:Object(m.jsxs)(j.a,{height:window.innerHeight,width:window.innerWidth,display:"flex",alignItems:ee.isMobile?"flex-start":"center",justifyContent:"center",style:{backgroundColor:n.pathname.includes("holiday")?"black":e?"#fff":"#000"},pt:ee.isMobile&&8,children:[Object(m.jsx)(Z,{socket:ce,device:o}),Object(m.jsx)(r.b,{to:"/controller",children:Object(m.jsx)(f.a,{colorScheme:"gray",size:"lg",icon:Object(m.jsx)($.a,{}),style:{position:"fixed",bottom:0,right:0,borderRadius:"5px 0px 0px",minHeight:70,minWidth:70}})}),Object(m.jsx)(f.a,{colorScheme:"gray",size:"lg",icon:Object(m.jsx)(ne.a,{}),style:{position:"fixed",bottom:0,left:0,borderRadius:"0px 5px 0px",minHeight:70,minWidth:70},onClick:function(){return"controller"===o?ce.emit("change","refresh"):window.location.reload(!0)}})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))},oe=new A.QueryClient;o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(A.QueryClientProvider,{client:oe,children:Object(m.jsx)(l.a,{children:Object(m.jsx)(r.a,{children:Object(m.jsx)(ie,{})})})})}),document.getElementById("root")),ae()}},[[218,1,2]]]);
//# sourceMappingURL=main.c2ab055d.chunk.js.map