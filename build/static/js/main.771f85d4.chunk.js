(this["webpackJsonpreact-live-photo-frame"]=this["webpackJsonpreact-live-photo-frame"]||[]).push([[0],{140:function(e,t,c){},141:function(e,t,c){},203:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),o=c(113),r=c.n(o),a=c(36),l=c(220),s=(c(140),c(6)),j=(c(141),c(215)),f=c(219),d=c(11),h=c(218),x=c(114),u=c.n(x),b=function(){return(new Date).getHours()>=6&&(new Date).getHours()<=17},m=c(3),p=function(){var e=b(),t={background:e?"#fff":"#000",center:e?"#000":"#fff",seconds:e?"#000":"#fff",minutes:e?"#000":"#fff",hour:e?"#000":"#fff",tick:e?"#000":"#fff",smallTickWidth:2,largeTickWidth:4,secondHandWidth:3,minuteHandWidth:6,hourHandWidth:8};return Object(m.jsx)(h.a,{initialScale:.9,in:!0,children:Object(m.jsx)(u.a,{theme:t})})},O=c(221),g=c(216),v=c(217),w=c(52),k=c(119),S=c(115),y=i.a.createContext({value:{},socket:{emit:function(e,t){}},device:"frame",setDevice:function(e){}}),W=function(){return i.a.useContext(y)},C=function(e){return Object(m.jsx)(y.Provider,{value:Object(S.a)({},e),children:e.children})},D=function(e){var t=b(),c=W(),n=Object(d.g)(),o=Object(O.a)(),r=o.isOpen,a=o.onToggle,l=function(e){a(),setTimeout((function(){n.push(e)}),500)};return i.a.useLayoutEffect((function(){a()}),[]),null===c.device?Object(m.jsx)(d.a,{to:"/device"}):Object(m.jsx)(h.a,{initialScale:.9,in:r,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",minW:300,children:[Object(m.jsx)(g.a,{color:t?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Controller"}),Object(m.jsx)(g.a,{color:t?"black":"white",marginBottom:4,fontSize:"xs",children:"Change the view on the frame"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsxs)(j.a,{flexDir:"row",flexWrap:"wrap",display:"flex",justifyContent:"center",children:[Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","clock"):l("/clock")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(w.b,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","weather"):l("/weather")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(k.a,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","videos"):l("/videos")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(w.a,{})})]})]})})},z=function(){return Object(m.jsxs)("video",{id:"videoPlayer",autoPlay:!0,controls:!1,width:"100%",loop:!0,muted:!0,playsInline:!0,children:[Object(m.jsx)("source",{src:"/videos/troy.MOV",type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]})},H=c(120),I=function(){var e=W(),t=(e.device,e.setDevice),c=Object(d.g)(),n=b();return Object(m.jsxs)(j.a,{color:"white",flexWrap:"wrap",display:"flex",minW:300,flexDir:"column",children:[Object(m.jsx)(g.a,{color:n?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Device"}),Object(m.jsx)(g.a,{color:n?"black":"white",marginBottom:4,fontSize:"xs",children:"Choose if this is the frame or the controller"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsx)(f.a,{onClick:function(){t("frame"),localStorage.setItem("device","frame"),c.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"frame",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(w.c,{})}),Object(m.jsx)(f.a,{onClick:function(){t("controller"),localStorage.setItem("device","controller"),c.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"controller",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(H.a,{})})]})},F=c(79),T=c.n(F),B=c(121),L=c(123),M=c(122),P=c.n(M),E=function(){Object(O.a)().isOpen;var e=i.a.useState({main:{temp:0,humidity:0},name:"",wind:{speed:0,deg:0}}),t=Object(s.a)(e,2),c=t[0],n=t[1],o=i.a.useState(!0),r=Object(s.a)(o,2),a=r[0],l=r[1];return i.a.useLayoutEffect((function(){l(!0);var e=function(){var t=Object(B.a)(T.a.mark((function t(){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:c=t.sent,console.log(c.data),n(c.data),l(!1),setTimeout((function(){l(!0),e()}),3e5);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}),[]),a?Object(m.jsx)(m.Fragment,{children:'"Loading"'}):Object(m.jsx)(h.a,{initialScale:.9,in:!0,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",children:[Object(m.jsx)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(g.a,{lineHeight:"150px",fontWeight:"100",fontSize:"300px",color:"white",children:c.main.temp.toFixed(0)})}),Object(m.jsx)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(g.a,{lineHeight:"40px",fontWeight:"100",fontSize:"70px",color:"white",children:c.name})}),Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"row",children:[Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"column",children:[Object(m.jsxs)(g.a,{lineHeight:"60px",fontWeight:"100",fontSize:"100px",color:"white",children:[c.main.humidity.toFixed(0),"%"]}),Object(m.jsx)(g.a,{fontWeight:"100",fontSize:"40px",color:"white",children:"HUMIDITY"})]}),Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"column",children:[Object(m.jsxs)(j.a,{display:"flex",flexDir:"row",children:[Object(m.jsxs)(g.a,{lineHeight:"60px",fontWeight:"100",fontSize:"100px",color:"white",children:[c.wind.speed,"mph"]}),Object(m.jsx)(L.a,{color:"#fff",fontSize:"72px",style:{marginLeft:20,transform:"rotate(".concat(c.wind.deg,"deg)"),transition:"transform 1250ms ease-in-out"}})]}),Object(m.jsx)(g.a,{fontWeight:"100",fontSize:"40px",color:"white",children:"WIND"})]})]})]})})},A=function(e){return Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/weather",children:Object(m.jsx)(E,{})}),Object(m.jsx)(d.b,{path:"/clock",children:Object(m.jsx)(p,{})}),Object(m.jsx)(d.b,{path:"/videos",children:Object(m.jsx)(z,{})}),Object(m.jsx)(d.b,{path:"/controller",children:Object(m.jsx)(D,{socket:e.socket})}),Object(m.jsx)(d.b,{path:"/device",children:Object(m.jsx)(I,{})}),Object(m.jsx)(d.b,{path:"/*",children:Object(m.jsx)(d.a,{to:"/controller"})})]})},J=c(125),U=c(80),q=c(124),N=Object(q.io)("http://192.168.124.124:4000"),R=function(){var e=b(),t=Object(d.g)(),c=i.a.useState(localStorage.getItem("device")),n=Object(s.a)(c,2),o=n[0],r=n[1];return i.a.useEffect((function(){N.on("change_view",(function(e){console.log(e),"frame"===o&&function(e){switch(e){case"videos":t.push("/videos");break;case"weather":t.push("/weather");break;case"clock":t.push("/clock")}}(e)}))}),[]),Object(m.jsx)(C,{socket:N,device:o,setDevice:r,children:Object(m.jsxs)(j.a,{height:window.innerHeight,width:window.innerWidth,display:"flex",alignItems:U.isMobile?"flex-start":"center",justifyContent:"center",style:{backgroundColor:e?"#fff":"#000"},pt:U.isMobile&&8,children:[Object(m.jsx)(A,{socket:N,device:o}),Object(m.jsx)(a.b,{to:"/controller",children:Object(m.jsx)(f.a,{colorScheme:"red",icon:Object(m.jsx)(J.a,{}),style:{position:"fixed",bottom:0,right:0,borderRadius:"5px 0px 0px"}})})]})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,222)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),o(e),r(e)}))};r.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(a.a,{children:Object(m.jsx)(R,{})})})}),document.getElementById("root")),V()}},[[203,1,2]]]);
//# sourceMappingURL=main.771f85d4.chunk.js.map