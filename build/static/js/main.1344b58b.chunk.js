(this["webpackJsonpreact-live-photo-frame"]=this["webpackJsonpreact-live-photo-frame"]||[]).push([[0],{140:function(e,t,c){},141:function(e,t,c){},203:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),o=c(113),r=c.n(o),a=c(36),l=c(219),s=(c(140),c(6)),j=(c(141),c(215)),f=c(220),h=c(11),d=c(218),x=c(114),b=c.n(x),u=function(){return(new Date).getHours()>=6&&(new Date).getHours()<=17},m=c(3),p=function(){var e=u(),t={background:e?"#fff":"#000",center:e?"#000":"#fff",seconds:e?"#000":"#fff",minutes:e?"#000":"#fff",hour:e?"#000":"#fff",tick:e?"#000":"#fff",smallTickWidth:2,largeTickWidth:4,secondHandWidth:3,minuteHandWidth:6,hourHandWidth:8};return Object(m.jsx)(d.a,{initialScale:.9,in:!0,children:Object(m.jsx)(b.a,{theme:t})})},O=c(221),g=c(216),v=c(217),w=c(52),k=c(119),S=c(115),y=i.a.createContext({value:{},socket:{emit:function(e,t){}},device:"frame",setDevice:function(e){}}),W=function(){return i.a.useContext(y)},C=function(e){return Object(m.jsx)(y.Provider,{value:Object(S.a)({},e),children:e.children})},z=function(e){var t=u(),c=W(),n=Object(h.g)(),o=Object(O.a)(),r=o.isOpen,a=o.onToggle,l=function(e){a(),setTimeout((function(){n.push(e)}),500)};return i.a.useLayoutEffect((function(){a()}),[]),null===c.device?Object(m.jsx)(h.a,{to:"/device"}):Object(m.jsx)(d.a,{initialScale:.9,in:r,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",minW:300,children:[Object(m.jsx)(g.a,{color:t?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Controller"}),Object(m.jsx)(g.a,{color:t?"black":"white",marginBottom:4,fontSize:"xs",children:"Change the view on the frame"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsxs)(j.a,{flexDir:"row",flexWrap:"wrap",display:"flex",justifyContent:"center",children:[Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","clock"):l("/clock")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(w.b,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","weather"):l("/weather")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(k.a,{})}),Object(m.jsx)(f.a,{"aria-label":"clock",maxW:"30%",minH:"90px",fontSize:"4xl",onClick:function(){return"controller"===c.device?e.socket.emit("change","videos"):l("/videos")},m:1,colorScheme:"red",isFullWidth:!0,icon:Object(m.jsx)(w.a,{})})]})]})})},D=function(){return Object(m.jsxs)("video",{id:"videoPlayer",autoPlay:!0,controls:!1,width:"100%",loop:!0,muted:!0,playsInline:!0,children:[Object(m.jsx)("source",{src:"/videos/troy.mp4",type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]})},H=c(120),I=function(){var e=W(),t=(e.device,e.setDevice),c=Object(h.g)(),n=u();return Object(m.jsxs)(j.a,{color:"white",flexWrap:"wrap",display:"flex",minW:300,flexDir:"column",children:[Object(m.jsx)(g.a,{color:n?"black":"white",fontSize:"2xl",fontWeight:"900",children:"Device"}),Object(m.jsx)(g.a,{color:n?"black":"white",marginBottom:4,fontSize:"xs",children:"Choose if this is the frame or the controller"}),Object(m.jsx)(v.a,{color:"whiteAlpha.300",marginBottom:4}),Object(m.jsx)(f.a,{onClick:function(){t("frame"),localStorage.setItem("device","frame"),c.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"frame",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(w.c,{})}),Object(m.jsx)(f.a,{onClick:function(){t("controller"),localStorage.setItem("device","controller"),c.push("/controller")},fontSize:"6xl",colorScheme:"red","aria-label":"controller",minW:"47%",minH:"240px",m:1,icon:Object(m.jsx)(H.a,{})})]})},F=c(79),T=c.n(F),B=c(121),L=c(222),M=c(123),P=c(122),E=c.n(P),A=function(){Object(O.a)().isOpen;var e=u(),t=i.a.useState({main:{temp:0,humidity:0},name:"",wind:{speed:0,deg:0}}),c=Object(s.a)(t,2),n=c[0],o=c[1],r=i.a.useState(!0),a=Object(s.a)(r,2),l=a[0],f=a[1];return i.a.useLayoutEffect((function(){f(!0);var e=function(){var t=Object(B.a)(T.a.mark((function t(){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat("Cambridge, MA, US","&appid=").concat("c90c2bfaebf59c4f106f209199dce010","&units=imperial"));case 2:c=t.sent,console.log(c.data),o(c.data),f(!1),setTimeout((function(){f(!0),e()}),3e5);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}),[]),l?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(L.a,{size:"xl"})}):Object(m.jsx)(d.a,{initialScale:.9,in:!0,children:Object(m.jsxs)(j.a,{display:"flex",flexDir:"column",children:[Object(m.jsx)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(g.a,{lineHeight:"150px",fontWeight:"100",fontSize:"300px",color:e?"black":"white",children:n.main.temp.toFixed(0)})}),Object(m.jsx)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(g.a,{lineHeight:"40px",fontWeight:"100",fontSize:"70px",color:e?"black":"white",children:n.name})}),Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"row",children:[Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"column",children:[Object(m.jsxs)(g.a,{lineHeight:"60px",fontWeight:"100",fontSize:"100px",color:e?"black":"white",children:[n.main.humidity.toFixed(0),"%"]}),Object(m.jsx)(g.a,{fontWeight:"100",fontSize:"40px",color:e?"black":"white",children:"HUMIDITY"})]}),Object(m.jsxs)(j.a,{p:10,display:"flex",justifyContent:"center",alignItems:"flex-start",flexDir:"column",children:[Object(m.jsxs)(j.a,{display:"flex",flexDir:"row",children:[Object(m.jsxs)(g.a,{lineHeight:"60px",fontWeight:"100",fontSize:"100px",color:e?"black":"white",children:[n.wind.speed,"mph"]}),Object(m.jsx)(M.a,{color:"#fff",fontSize:"72px",style:{marginLeft:20,transform:"rotate(".concat(n.wind.deg,"deg)"),transition:"transform 1250ms ease-in-out"}})]}),Object(m.jsx)(g.a,{fontWeight:"100",fontSize:"40px",color:e?"black":"white",children:"WIND"})]})]})]})})},J=function(e){return Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{path:"/weather",children:Object(m.jsx)(A,{})}),Object(m.jsx)(h.b,{path:"/clock",children:Object(m.jsx)(p,{})}),Object(m.jsx)(h.b,{path:"/videos",children:Object(m.jsx)(D,{})}),Object(m.jsx)(h.b,{path:"/controller",children:Object(m.jsx)(z,{socket:e.socket})}),Object(m.jsx)(h.b,{path:"/device",children:Object(m.jsx)(I,{})}),Object(m.jsx)(h.b,{path:"/*",children:Object(m.jsx)(h.a,{to:"/controller"})})]})},U=c(125),q=c(80),N=c(124),R=Object(N.io)("http://192.168.124.124:4000"),Y=function(){var e=u(),t=Object(h.g)(),c=i.a.useState(localStorage.getItem("device")),n=Object(s.a)(c,2),o=n[0],r=n[1];return i.a.useEffect((function(){R.on("change_view",(function(e){console.log(e),"frame"===o&&function(e){switch(e){case"videos":t.push("/videos");break;case"weather":t.push("/weather");break;case"clock":t.push("/clock")}}(e)}))}),[]),Object(m.jsx)(C,{socket:R,device:o,setDevice:r,children:Object(m.jsxs)(j.a,{height:window.innerHeight,width:window.innerWidth,display:"flex",alignItems:q.isMobile?"flex-start":"center",justifyContent:"center",style:{backgroundColor:e?"#fff":"#000"},pt:q.isMobile&&8,children:[Object(m.jsx)(J,{socket:R,device:o}),Object(m.jsx)(a.b,{to:"/controller",children:Object(m.jsx)(f.a,{colorScheme:"red",size:"lg",icon:Object(m.jsx)(U.a,{}),style:{position:"fixed",bottom:0,right:0,borderRadius:"5px 0px 0px",minHeight:70,minWidth:70}})})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,223)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),o(e),r(e)}))};r.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(a.a,{children:Object(m.jsx)(Y,{})})})}),document.getElementById("root")),_()}},[[203,1,2]]]);
//# sourceMappingURL=main.1344b58b.chunk.js.map